<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />

  <title>Henry Stickmin â€“ Breaking the Bank</title>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MENBM6GSNY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag("js", new Date());
    gtag("config", "G-MENBM6GSNY");
  </script>

  <!-- Waflash Styles -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/felixs-alt/gAssetsFork@5cb61b353cff0365c082c9309e82bb561c027201/Run%202/waflash/waflash-style.css"
    type="text/css"
  />

  <!-- Game Configuration -->
  <script>
    var gameConfig = {
      swfUrl: "https://cdn.jsdelivr.net/gh/selenite-cc/flasharchive@187e8105c2afdd4dc1c49d36c840e933bef695dc/Henry%20Stickmin%20-%20Breaking%20the%20Bank.swf"
    };
  </script>
</head>

<body>
  <div id="waflashContainer">
    <canvas
      class="waflashCanvas"
      id="canvas"
      tabindex="1"
      aria-label="Flash game canvas"
    ></canvas>

    <div id="waflashStatus" style="display:none;">
      Playing...
    </div>

    <!-- Internet Explorer Warning -->
    <script>
      var ua = navigator.userAgent.toLowerCase();
      if (
        (navigator.appName === "Netscape" && ua.indexOf("trident") !== -1) ||
        ua.indexOf("msie") !== -1
      ) {
        var waf = document.getElementById("waflashStatus");
        waf.style.display = "block";
        waf.innerText =
          "Internet Explorer is not supported.\nPlease use a modern browser like Chrome, Edge, or Firefox.";
        gtag("event", "connect_from_ie", {
          event_category: "error",
          event_label: ua
        });
      }
    </script>

    <!-- Waflash Loader -->
    <script type="module" crossorigin="anonymous">
      const canvas = document.getElementById("canvas");
      const isMobile = /Mobi/i.test(window.navigator.userAgent);

      if (isMobile) {
        function scrollToSubject() {
          try {
            window.scrollTo({ top: 100, left: 0, behavior: "smooth" });
          } catch (e) {}
        }
        scrollToSubject();
        window.addEventListener("orientationchange", () => {
          setTimeout(scrollToSubject, 100);
        });
      } else {
        canvas.focus();
      }

      canvas.addEventListener("keydown", (e) => {
        e.preventDefault();
        e.stopPropagation();
      });

      canvas.addEventListener("click", () => {
        canvas.focus();
      });

      document.addEventListener("mousedown", (() => {
        let focused = false;
        return function (e) {
          if (e.target === canvas) {
            if (!focused) {
              canvas.focus();
              focused = true;
            }
          } else {
            focused = false;
          }
        };
      })());

      import { createWaflash } from "https://cdn.jsdelivr.net/gh/zhit73/wafedit@d4b837bdad6d004242c69209e7146ce7d99021f1/wasm/waflash-player.min.js";
      createWaflash(gameConfig.swfUrl, window.wafOptions || {});
    </script>
  </div>

  <!-- SDK -->
  <script src="https://cdn.jsdelivr.net/gh/st39/sdk@main/api.js"></script>
</body>
</html>
